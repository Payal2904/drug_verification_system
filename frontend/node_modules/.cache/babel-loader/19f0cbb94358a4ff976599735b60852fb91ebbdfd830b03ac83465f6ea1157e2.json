{"ast":null,"code":"import React from\"react\";import{Link,useLocation}from\"react-router-dom\";import{X,Home,Scan,FileText,BarChart3,Users,Settings,Shield,Package,AlertTriangle}from\"lucide-react\";import{useAuth}from\"../../contexts/AuthContext\";import{motion,AnimatePresence}from\"framer-motion\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Sidebar=_ref=>{var _user$first_name,_user$username;let{isOpen,onClose}=_ref;const{user,hasRole,hasAnyRole}=useAuth();const location=useLocation();const isActive=path=>location.pathname===path;const navigationItems=[{path:\"/\",label:\"Home\",icon:Home,roles:[\"user\",\"pharmacist\",\"admin\",\"manufacturer\",\"distributor\",\"retailer\"]},{path:\"/scan\",label:\"Scan Drug\",icon:Scan,roles:[\"user\",\"pharmacist\",\"admin\",\"manufacturer\",\"distributor\",\"retailer\"]},{path:\"/verify\",label:\"Verify\",icon:Shield,roles:[\"user\",\"pharmacist\",\"admin\",\"manufacturer\",\"distributor\",\"retailer\"]},{path:\"/reports\",label:\"My Reports\",icon:FileText,roles:[\"user\",\"pharmacist\",\"admin\",\"manufacturer\",\"distributor\",\"retailer\"]},{path:\"/supply-chain\",label:\"Supply Chain\",icon:Package,roles:[\"pharmacist\",\"admin\",\"manufacturer\",\"distributor\",\"retailer\"]}];const adminItems=[{path:\"/admin\",label:\"Dashboard\",icon:BarChart3,roles:[\"admin\"]},{path:\"/admin/users\",label:\"User Management\",icon:Users,roles:[\"admin\"]},{path:\"/admin/drugs\",label:\"Drug Management\",icon:Package,roles:[\"admin\"]},{path:\"/admin/batches\",label:\"Batch Management\",icon:Package,roles:[\"admin\"]},{path:\"/admin/settings\",label:\"System Settings\",icon:Settings,roles:[\"admin\"]}];const canAccess=item=>{return item.roles.includes(user===null||user===void 0?void 0:user.role);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AnimatePresence,{children:isOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 z-40 bg-black bg-opacity-50\",onClick:onClose})}),/*#__PURE__*/_jsx(motion.div,{initial:{x:-320},animate:{x:isOpen?0:-320},transition:{type:\"spring\",stiffness:300,damping:30},className:\"fixed top-0 left-0 z-50 h-full w-64 bg-white shadow-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-neutral-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Shield,{className:\"h-5 w-5 text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold text-neutral-900\",children:\"DrugVerify\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"lg:hidden p-2 rounded-md text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-neutral-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 bg-primary-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-primary-600 font-semibold text-sm\",children:(user===null||user===void 0?void 0:(_user$first_name=user.first_name)===null||_user$first_name===void 0?void 0:_user$first_name.charAt(0))||(user===null||user===void 0?void 0:(_user$username=user.username)===null||_user$username===void 0?void 0:_user$username.charAt(0))||\"U\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-semibold text-neutral-900\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-neutral-500\",children:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 mt-1\",children:user===null||user===void 0?void 0:user.role})]})]})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex-1 px-4 py-4 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:navigationItems.map(item=>{if(!canAccess(item))return null;return/*#__PURE__*/_jsxs(Link,{to:item.path,onClick:onClose,className:\"group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors \".concat(isActive(item.path)?\"bg-primary-100 text-primary-700 border-r-2 border-primary-600\":\"text-neutral-700 hover:text-neutral-900 hover:bg-neutral-100\"),children:[/*#__PURE__*/_jsx(item.icon,{className:\"mr-3 h-5 w-5\"}),item.label]},item.path);})}),hasRole(\"admin\")&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-semibold text-neutral-500 uppercase tracking-wider\",children:\"Administration\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:adminItems.map(item=>{if(!canAccess(item))return null;return/*#__PURE__*/_jsxs(Link,{to:item.path,onClick:onClose,className:\"group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors \".concat(isActive(item.path)?\"bg-primary-100 text-primary-700 border-r-2 border-primary-600\":\"text-neutral-700 hover:text-neutral-900 hover:bg-neutral-100\"),children:[/*#__PURE__*/_jsx(item.icon,{className:\"mr-3 h-5 w-5\"}),item.label]},item.path);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-semibold text-neutral-500 uppercase tracking-wider\",children:\"System Status\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 bg-green-50 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2 w-2 bg-green-500 rounded-full mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-700\",children:\"System Online\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-2 bg-blue-50 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-2 w-2 bg-blue-500 rounded-full mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-blue-700\",children:\"Blockchain Synced\"})]})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-neutral-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-neutral-500 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2024 DrugVerify\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Version 1.0.0\"})]})})]})})]});};export default Sidebar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}