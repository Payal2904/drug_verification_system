{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import{QueryClient,QueryClientProvider}from\"react-query\";import{ReactQueryDevtools}from\"react-query/devtools\";import{Toaster}from\"react-hot-toast\";import{AuthProvider,useAuth}from\"./contexts/AuthContext\";import{ThemeProvider}from\"./contexts/ThemeContext\";// Layout Components\nimport Header from\"./components/layout/Header\";import Footer from\"./components/layout/Footer\";import Sidebar from\"./components/layout/Sidebar\";import LoadingSpinner from\"./components/common/LoadingSpinner\";import ErrorBoundary from\"./components/common/ErrorBoundary\";// Page Components\nimport HomePage from\"./pages/HomePage\";import LoginPage from\"./pages/auth/LoginPage\";import VerificationPage from\"./pages/VerificationPage\";import ScanPage from\"./pages/ScanPage\";import{RegisterPage,ProfilePage,ReportsPage,CreateReportPage,ReportDetailsPage,SupplyChainPage,AdminDashboard,UserManagement,DrugManagement,BatchManagement,SystemSettings,NotFoundPage}from\"./pages/PlaceholderPages\";// Styles\nimport\"./styles/globals.css\";// Create React Query client\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryClient=new QueryClient({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:false,staleTime:5*60*1000// 5 minutes\n},mutations:{retry:1}}});// Protected Route Component\nconst ProtectedRoute=_ref=>{let{children,requiredRoles=[]}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}if(requiredRoles.length>0&&!requiredRoles.includes(user.role)){return/*#__PURE__*/_jsx(Navigate,{to:\"/unauthorized\",replace:true});}return children;};// Public Route Component (redirect if already authenticated)\nconst PublicRoute=_ref2=>{let{children}=_ref2;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"lg\"})});}if(user){return/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};// Main App Layout Component\nconst AppLayout=_ref3=>{let{children}=_ref3;const{user}=useAuth();const[sidebarOpen,setSidebarOpen]=React.useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-neutral-50\",children:[/*#__PURE__*/_jsx(Header,{onMenuClick:()=>setSidebarOpen(true)}),user&&/*#__PURE__*/_jsx(Sidebar,{isOpen:sidebarOpen,onClose:()=>setSidebarOpen(false)}),/*#__PURE__*/_jsx(\"main\",{className:\"transition-all duration-300 \".concat(user?\"lg:ml-64\":\"\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"pt-20 min-h-screen\",children:children})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:\"#fff\",color:\"#1f2937\",borderRadius:\"0.5rem\",boxShadow:\"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\"},success:{iconTheme:{primary:\"#10b981\",secondary:\"#fff\"}},error:{iconTheme:{primary:\"#ef4444\",secondary:\"#fff\"}}}})]});};// Main App Component\nfunction App(){return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsxs(QueryClientProvider,{client:queryClient,children:[/*#__PURE__*/_jsx(ThemeProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(AppLayout,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/scan\",element:/*#__PURE__*/_jsx(ScanPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/verify\",element:/*#__PURE__*/_jsx(VerificationPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(LoginPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(RegisterPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ProfilePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reports\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ReportsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reports/create\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(CreateReportPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/reports/:reportId\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(ReportDetailsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/supply-chain\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(SupplyChainPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRoles:[\"admin\"],children:/*#__PURE__*/_jsx(AdminDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/users\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRoles:[\"admin\"],children:/*#__PURE__*/_jsx(UserManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/drugs\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRoles:[\"admin\"],children:/*#__PURE__*/_jsx(DrugManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/batches\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRoles:[\"admin\"],children:/*#__PURE__*/_jsx(BatchManagement,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/settings\",element:/*#__PURE__*/_jsx(ProtectedRoute,{requiredRoles:[\"admin\"],children:/*#__PURE__*/_jsx(SystemSettings,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/unauthorized\",element:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-neutral-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-12 w-12 text-error-500 mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-neutral-900 mb-2\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600 mb-4\",children:\"You don't have permission to access this page.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.history.back(),className:\"btn btn-primary\",children:\"Go Back\"})]})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFoundPage,{})})]})})})})}),process.env.NODE_ENV===\"development\"&&/*#__PURE__*/_jsx(ReactQueryDevtools,{initialIsOpen:false})]})});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}