{"ast":null,"code":"import _objectSpread from\"/Users/payalkawar/Downloads/drug/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Shield,Search,CheckCircle,XCircle,AlertTriangle,Clock,Package,Truck}from'lucide-react';import{motion}from'framer-motion';import dataService from'../services/dataService';import LoadingSpinner from'../components/common/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const VerificationPage=()=>{const[formData,setFormData]=useState({drugName:'',batchNumber:'',drugCode:'',qrCode:'',barcode:''});const[verificationResult,setVerificationResult]=useState(null);const[loading,setLoading]=useState(false);const[activeTab,setActiveTab]=useState('manual');const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setVerificationResult(null);try{const searchData={};if(activeTab==='manual'){if(formData.batchNumber&&formData.drugCode){searchData.batchNumber=formData.batchNumber;searchData.drugCode=formData.drugCode;}}else if(activeTab==='qr'){searchData.qrCode=formData.qrCode;}else if(activeTab==='barcode'){searchData.barcode=formData.barcode;}const result=await dataService.verifyDrug(searchData);setVerificationResult(result);}catch(error){setVerificationResult({success:false,result:'error',message:'Verification failed. Please try again.'});}finally{setLoading(false);}};const clearForm=()=>{setFormData({drugName:'',batchNumber:'',drugCode:'',qrCode:'',barcode:''});setVerificationResult(null);};const getResultIcon=result=>{switch(result){case'authentic':return/*#__PURE__*/_jsx(CheckCircle,{className:\"h-12 w-12 text-green-500\"});case'expired':return/*#__PURE__*/_jsx(Clock,{className:\"h-12 w-12 text-orange-500\"});case'not_found':case'counterfeit':return/*#__PURE__*/_jsx(XCircle,{className:\"h-12 w-12 text-red-500\"});default:return/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-12 w-12 text-yellow-500\"});}};const getResultColor=result=>{switch(result){case'authentic':return'green';case'expired':return'orange';case'not_found':case'counterfeit':return'red';default:return'yellow';}};const getResultTitle=result=>{switch(result){case'authentic':return'Drug is Authentic';case'expired':return'Drug is Expired';case'not_found':return'Drug Not Found';case'counterfeit':return'Potential Counterfeit';default:return'Verification Complete';}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-neutral-50 pt-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center mb-4\",children:/*#__PURE__*/_jsx(Shield,{className:\"h-8 w-8 text-primary-600\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-neutral-900 mb-4\",children:\"Drug Verification\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-neutral-600 max-w-2xl mx-auto\",children:\"Verify the authenticity of pharmaceutical products using our secure database\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-soft p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-neutral-900 mb-6\",children:\"Verify Your Medication\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex space-x-1 bg-neutral-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('manual'),className:\"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors \".concat(activeTab==='manual'?'bg-white text-primary-700 shadow-sm':'text-neutral-600 hover:text-neutral-900'),children:\"Manual Entry\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('qr'),className:\"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors \".concat(activeTab==='qr'?'bg-white text-primary-700 shadow-sm':'text-neutral-600 hover:text-neutral-900'),children:\"QR Code\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('barcode'),className:\"flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors \".concat(activeTab==='barcode'?'bg-white text-primary-700 shadow-sm':'text-neutral-600 hover:text-neutral-900'),children:\"Barcode\"})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[activeTab==='manual'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Batch Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"batchNumber\",value:formData.batchNumber,onChange:handleChange,className:\"input\",placeholder:\"Enter batch number (e.g., BATCH001)\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Drug Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"drugCode\",value:formData.drugCode,onChange:handleChange,className:\"input\",placeholder:\"Enter drug code (e.g., PARA500)\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Drug Name (Optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"drugName\",value:formData.drugName,onChange:handleChange,className:\"input\",placeholder:\"Enter drug name for reference\"})]})]}),activeTab==='qr'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"QR Code Data *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"qrCode\",value:formData.qrCode,onChange:handleChange,className:\"input\",placeholder:\"Enter QR code data (e.g., QR001PARA500BATCH001)\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-500 mt-1\",children:\"Try: QR001PARA500BATCH001 or QR002AMOX250BATCH002\"})]}),activeTab==='barcode'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Barcode *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"barcode\",value:formData.barcode,onChange:handleChange,className:\"input\",placeholder:\"Enter barcode (e.g., 123456789012)\",required:true}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-500 mt-1\",children:\"Try: 123456789012 or 234567890123\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"btn btn-primary flex-1\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(LoadingSpinner,{size:\"xs\",color:\"white\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Verifying...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{className:\"h-4 w-4 mr-2\"}),\"Verify Drug\"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearForm,className:\"btn btn-outline\",children:\"Clear\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-semibold text-blue-900 mb-2\",children:\"Sample Data for Testing:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-blue-800 space-y-1\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Batch:\"}),\" BATCH001, Code: PARA500\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Batch:\"}),\" BATCH002, Code: AMOX250\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"QR:\"}),\" QR001PARA500BATCH001\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Barcode:\"}),\" 123456789012\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-soft p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-neutral-900 mb-6\",children:\"Verification Results\"}),!verificationResult?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Shield,{className:\"h-16 w-16 text-neutral-300 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-500\",children:\"Enter drug information to verify authenticity\"})]}):/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center pb-6 border-b border-neutral-200\",children:[getResultIcon(verificationResult.result),/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold mt-4 text-\".concat(getResultColor(verificationResult.result),\"-600\"),children:getResultTitle(verificationResult.result)}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-\".concat(getResultColor(verificationResult.result),\"-100 text-\").concat(getResultColor(verificationResult.result),\"-800\"),children:[\"Authenticity Score: \",verificationResult.authenticity_score||0,\"%\"]})})]}),verificationResult.drug&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-neutral-900 mb-3\",children:\"Drug Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-neutral-600\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:verificationResult.drug.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-neutral-600\",children:\"Batch Number:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:verificationResult.drug.batchNumber})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-neutral-600\",children:\"Manufacturer:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:verificationResult.drug.manufacturer})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-neutral-600\",children:\"Expiry Date:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium \".concat(new Date(verificationResult.drug.expiryDate)<new Date()?'text-red-600':'text-green-600'),children:new Date(verificationResult.drug.expiryDate).toLocaleDateString()})]})]})]}),verificationResult.risk_factors&&verificationResult.risk_factors.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-neutral-900 mb-3\",children:\"Risk Factors\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2\",children:verificationResult.risk_factors.map((factor,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center text-red-600\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:factor})]},index))})]}),verificationResult.supplyChain&&verificationResult.supplyChain.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-neutral-900 mb-3\",children:\"Supply Chain History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:verificationResult.supplyChain.map((entry,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 p-3 bg-neutral-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 rounded-full \".concat(entry.type==='manufacturer'?'bg-blue-100 text-blue-600':entry.type==='distributor'?'bg-purple-100 text-purple-600':'bg-green-100 text-green-600'),children:entry.type==='manufacturer'?/*#__PURE__*/_jsx(Package,{className:\"h-4 w-4\"}):entry.type==='distributor'?/*#__PURE__*/_jsx(Truck,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(Shield,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-neutral-900\",children:entry.entity}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-500 capitalize\",children:entry.type})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-900\",children:new Date(entry.date).toLocaleDateString()})})]},index))})]}),verificationResult.message&&/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-yellow-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-800\",children:verificationResult.message})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 bg-white rounded-lg shadow-soft p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-neutral-900 mb-4\",children:\"How Drug Verification Works\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-3\",children:/*#__PURE__*/_jsx(Search,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-neutral-900 mb-2\",children:\"Enter Information\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-600\",children:\"Provide drug details via manual entry, QR code, or barcode\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3\",children:/*#__PURE__*/_jsx(Shield,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-neutral-900 mb-2\",children:\"Database Check\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-600\",children:\"Cross-reference with our secure pharmaceutical database\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-3\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-neutral-900 mb-2\",children:\"Get Results\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-600\",children:\"Receive authenticity score and supply chain information\"})]})]})]})]})})});};export default VerificationPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}