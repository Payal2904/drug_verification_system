{"ast":null,"code":"var _jsxFileName = \"/Users/payalkawar/Downloads/drug/frontend/src/contexts/AuthContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\n// Initial state\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  user: null,\n  loading: true,\n  error: null\n};\n\n// Action types\nconst AUTH_ACTIONS = {\n  LOGIN_START: 'LOGIN_START',\n  LOGIN_SUCCESS: 'LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'LOGIN_FAILURE',\n  LOGOUT: 'LOGOUT',\n  REGISTER_START: 'REGISTER_START',\n  REGISTER_SUCCESS: 'REGISTER_SUCCESS',\n  REGISTER_FAILURE: 'REGISTER_FAILURE',\n  UPDATE_PROFILE: 'UPDATE_PROFILE',\n  SET_LOADING: 'SET_LOADING',\n  CLEAR_ERROR: 'CLEAR_ERROR'\n};\n\n// Reducer\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case AUTH_ACTIONS.LOGIN_START:\n    case AUTH_ACTIONS.REGISTER_START:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case AUTH_ACTIONS.LOGIN_SUCCESS:\n    case AUTH_ACTIONS.REGISTER_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        loading: false,\n        error: null\n      };\n    case AUTH_ACTIONS.LOGIN_FAILURE:\n    case AUTH_ACTIONS.REGISTER_FAILURE:\n      return {\n        ...state,\n        user: null,\n        loading: false,\n        error: action.payload\n      };\n    case AUTH_ACTIONS.LOGOUT:\n      return {\n        ...state,\n        user: null,\n        loading: false,\n        error: null\n      };\n    case AUTH_ACTIONS.UPDATE_PROFILE:\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          ...action.payload\n        }\n      };\n    case AUTH_ACTIONS.SET_LOADING:\n      return {\n        ...state,\n        loading: action.payload\n      };\n    case AUTH_ACTIONS.CLEAR_ERROR:\n      return {\n        ...state,\n        error: null\n      };\n    default:\n      return state;\n  }\n};\n\n// Create context\nconst AuthContext = /*#__PURE__*/createContext();\n\n// Auth provider component\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(authReducer, initialState);\n\n  // Setup axios interceptors\n  useEffect(() => {\n    const token = localStorage.getItem('access_token');\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n\n    // Response interceptor for token refresh\n    const responseInterceptor = axios.interceptors.response.use(response => response, async error => {\n      var _error$response;\n      const originalRequest = error.config;\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 && !originalRequest._retry) {\n        originalRequest._retry = true;\n        try {\n          const refreshToken = localStorage.getItem('refresh_token');\n          if (refreshToken) {\n            const response = await axios.post('/api/auth/refresh', {\n              refresh_token: refreshToken\n            });\n            const {\n              access_token\n            } = response.data.tokens;\n            localStorage.setItem('access_token', access_token);\n            axios.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n            return axios(originalRequest);\n          }\n        } catch (refreshError) {\n          console.error('Token refresh failed:', refreshError);\n          logout();\n        }\n      }\n      return Promise.reject(error);\n    });\n    return () => {\n      axios.interceptors.response.eject(responseInterceptor);\n    };\n  }, []);\n\n  // Check for existing authentication on mount\n  useEffect(() => {\n    const checkAuth = async () => {\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        dispatch({\n          type: AUTH_ACTIONS.SET_LOADING,\n          payload: false\n        });\n        return;\n      }\n      try {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n        const response = await axios.get('/api/auth/profile');\n        dispatch({\n          type: AUTH_ACTIONS.LOGIN_SUCCESS,\n          payload: {\n            user: response.data.user\n          }\n        });\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n        delete axios.defaults.headers.common['Authorization'];\n        dispatch({\n          type: AUTH_ACTIONS.SET_LOADING,\n          payload: false\n        });\n      }\n    };\n    checkAuth();\n  }, []);\n\n  // Login function\n  const login = async credentials => {\n    dispatch({\n      type: AUTH_ACTIONS.LOGIN_START\n    });\n    try {\n      const response = await axios.post('/api/auth/login', credentials);\n      const {\n        user,\n        tokens\n      } = response.data;\n\n      // Store tokens\n      localStorage.setItem('access_token', tokens.access_token);\n      localStorage.setItem('refresh_token', tokens.refresh_token);\n\n      // Set authorization header\n      axios.defaults.headers.common['Authorization'] = `Bearer ${tokens.access_token}`;\n      dispatch({\n        type: AUTH_ACTIONS.LOGIN_SUCCESS,\n        payload: {\n          user\n        }\n      });\n      toast.success('Login successful!');\n      return {\n        success: true,\n        user\n      };\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Login failed';\n      dispatch({\n        type: AUTH_ACTIONS.LOGIN_FAILURE,\n        payload: errorMessage\n      });\n      toast.error(errorMessage);\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Register function\n  const register = async userData => {\n    dispatch({\n      type: AUTH_ACTIONS.REGISTER_START\n    });\n    try {\n      const response = await axios.post('/api/auth/register', userData);\n      const {\n        user,\n        tokens\n      } = response.data;\n\n      // Store tokens\n      localStorage.setItem('access_token', tokens.access_token);\n      localStorage.setItem('refresh_token', tokens.refresh_token);\n\n      // Set authorization header\n      axios.defaults.headers.common['Authorization'] = `Bearer ${tokens.access_token}`;\n      dispatch({\n        type: AUTH_ACTIONS.REGISTER_SUCCESS,\n        payload: {\n          user\n        }\n      });\n      toast.success('Registration successful!');\n      return {\n        success: true,\n        user\n      };\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      const errorMessage = ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Registration failed';\n      dispatch({\n        type: AUTH_ACTIONS.REGISTER_FAILURE,\n        payload: errorMessage\n      });\n      toast.error(errorMessage);\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      await axios.post('/api/auth/logout');\n    } catch (error) {\n      console.error('Logout request failed:', error);\n    } finally {\n      // Clear local storage and axios headers\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('refresh_token');\n      delete axios.defaults.headers.common['Authorization'];\n      dispatch({\n        type: AUTH_ACTIONS.LOGOUT\n      });\n      toast.success('Logged out successfully');\n    }\n  };\n\n  // Update profile function\n  const updateProfile = async profileData => {\n    try {\n      const response = await axios.put('/api/auth/profile', profileData);\n      const updatedUser = response.data.user;\n      dispatch({\n        type: AUTH_ACTIONS.UPDATE_PROFILE,\n        payload: updatedUser\n      });\n      toast.success('Profile updated successfully!');\n      return {\n        success: true,\n        user: updatedUser\n      };\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      const errorMessage = ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Profile update failed';\n      toast.error(errorMessage);\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Change password function\n  const changePassword = async passwordData => {\n    try {\n      await axios.put('/api/auth/password', passwordData);\n      toast.success('Password changed successfully!');\n      return {\n        success: true\n      };\n    } catch (error) {\n      var _error$response5, _error$response5$data;\n      const errorMessage = ((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : (_error$response5$data = _error$response5.data) === null || _error$response5$data === void 0 ? void 0 : _error$response5$data.message) || 'Password change failed';\n      toast.error(errorMessage);\n      return {\n        success: false,\n        error: errorMessage\n      };\n    }\n  };\n\n  // Clear error function\n  const clearError = () => {\n    dispatch({\n      type: AUTH_ACTIONS.CLEAR_ERROR\n    });\n  };\n\n  // Check if user has specific role\n  const hasRole = role => {\n    var _state$user;\n    return ((_state$user = state.user) === null || _state$user === void 0 ? void 0 : _state$user.role) === role;\n  };\n\n  // Check if user has any of the specified roles\n  const hasAnyRole = roles => {\n    var _state$user2;\n    return roles.includes((_state$user2 = state.user) === null || _state$user2 === void 0 ? void 0 : _state$user2.role);\n  };\n\n  // Check if user is authenticated\n  const isAuthenticated = () => {\n    return !!state.user && !!localStorage.getItem('access_token');\n  };\n  const value = {\n    // State\n    user: state.user,\n    loading: state.loading,\n    error: state.error,\n    // Actions\n    login,\n    register,\n    logout,\n    updateProfile,\n    changePassword,\n    clearError,\n    // Utility functions\n    hasRole,\n    hasAnyRole,\n    isAuthenticated\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n};\n\n// Custom hook to use auth context\n_s(AuthProvider, \"GUSXxL/WUElrtHc/X73NyHNRMdw=\");\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default AuthContext;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","axios","toast","jsxDEV","_jsxDEV","initialState","user","loading","error","AUTH_ACTIONS","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","REGISTER_START","REGISTER_SUCCESS","REGISTER_FAILURE","UPDATE_PROFILE","SET_LOADING","CLEAR_ERROR","authReducer","state","action","type","payload","AuthContext","AuthProvider","children","_s","dispatch","token","localStorage","getItem","defaults","headers","common","responseInterceptor","interceptors","response","use","_error$response","originalRequest","config","status","_retry","refreshToken","post","refresh_token","access_token","data","tokens","setItem","refreshError","console","logout","Promise","reject","eject","checkAuth","get","removeItem","login","credentials","success","_error$response2","_error$response2$data","errorMessage","message","register","userData","_error$response3","_error$response3$data","updateProfile","profileData","put","updatedUser","_error$response4","_error$response4$data","changePassword","passwordData","_error$response5","_error$response5$data","clearError","hasRole","role","_state$user","hasAnyRole","roles","_state$user2","includes","isAuthenticated","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","context","Error","$RefreshReg$"],"sources":["/Users/payalkawar/Downloads/drug/frontend/src/contexts/AuthContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport axios from 'axios';\nimport toast from 'react-hot-toast';\n\n// Initial state\nconst initialState = {\n  user: null,\n  loading: true,\n  error: null,\n};\n\n// Action types\nconst AUTH_ACTIONS = {\n  LOGIN_START: 'LOGIN_START',\n  LOGIN_SUCCESS: 'LOGIN_SUCCESS',\n  LOGIN_FAILURE: 'LOGIN_FAILURE',\n  LOGOUT: 'LOGOUT',\n  REGISTER_START: 'REGISTER_START',\n  REGISTER_SUCCESS: 'REGISTER_SUCCESS',\n  REGISTER_FAILURE: 'REGISTER_FAILURE',\n  UPDATE_PROFILE: 'UPDATE_PROFILE',\n  SET_LOADING: 'SET_LOADING',\n  CLEAR_ERROR: 'CLEAR_ERROR',\n};\n\n// Reducer\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case AUTH_ACTIONS.LOGIN_START:\n    case AUTH_ACTIONS.REGISTER_START:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n      };\n\n    case AUTH_ACTIONS.LOGIN_SUCCESS:\n    case AUTH_ACTIONS.REGISTER_SUCCESS:\n      return {\n        ...state,\n        user: action.payload.user,\n        loading: false,\n        error: null,\n      };\n\n    case AUTH_ACTIONS.LOGIN_FAILURE:\n    case AUTH_ACTIONS.REGISTER_FAILURE:\n      return {\n        ...state,\n        user: null,\n        loading: false,\n        error: action.payload,\n      };\n\n    case AUTH_ACTIONS.LOGOUT:\n      return {\n        ...state,\n        user: null,\n        loading: false,\n        error: null,\n      };\n\n    case AUTH_ACTIONS.UPDATE_PROFILE:\n      return {\n        ...state,\n        user: { ...state.user, ...action.payload },\n      };\n\n    case AUTH_ACTIONS.SET_LOADING:\n      return {\n        ...state,\n        loading: action.payload,\n      };\n\n    case AUTH_ACTIONS.CLEAR_ERROR:\n      return {\n        ...state,\n        error: null,\n      };\n\n    default:\n      return state;\n  }\n};\n\n// Create context\nconst AuthContext = createContext();\n\n// Auth provider component\nexport const AuthProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, initialState);\n\n  // Setup axios interceptors\n  useEffect(() => {\n    const token = localStorage.getItem('access_token');\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n    }\n\n    // Response interceptor for token refresh\n    const responseInterceptor = axios.interceptors.response.use(\n      (response) => response,\n      async (error) => {\n        const originalRequest = error.config;\n\n        if (error.response?.status === 401 && !originalRequest._retry) {\n          originalRequest._retry = true;\n\n          try {\n            const refreshToken = localStorage.getItem('refresh_token');\n            if (refreshToken) {\n              const response = await axios.post('/api/auth/refresh', {\n                refresh_token: refreshToken,\n              });\n\n              const { access_token } = response.data.tokens;\n              localStorage.setItem('access_token', access_token);\n              axios.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n\n              return axios(originalRequest);\n            }\n          } catch (refreshError) {\n            console.error('Token refresh failed:', refreshError);\n            logout();\n          }\n        }\n\n        return Promise.reject(error);\n      }\n    );\n\n    return () => {\n      axios.interceptors.response.eject(responseInterceptor);\n    };\n  }, []);\n\n  // Check for existing authentication on mount\n  useEffect(() => {\n    const checkAuth = async () => {\n      const token = localStorage.getItem('access_token');\n\n      if (!token) {\n        dispatch({ type: AUTH_ACTIONS.SET_LOADING, payload: false });\n        return;\n      }\n\n      try {\n        axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n        const response = await axios.get('/api/auth/profile');\n\n        dispatch({\n          type: AUTH_ACTIONS.LOGIN_SUCCESS,\n          payload: { user: response.data.user },\n        });\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n        delete axios.defaults.headers.common['Authorization'];\n        dispatch({ type: AUTH_ACTIONS.SET_LOADING, payload: false });\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  // Login function\n  const login = async (credentials) => {\n    dispatch({ type: AUTH_ACTIONS.LOGIN_START });\n\n    try {\n      const response = await axios.post('/api/auth/login', credentials);\n      const { user, tokens } = response.data;\n\n      // Store tokens\n      localStorage.setItem('access_token', tokens.access_token);\n      localStorage.setItem('refresh_token', tokens.refresh_token);\n\n      // Set authorization header\n      axios.defaults.headers.common['Authorization'] = `Bearer ${tokens.access_token}`;\n\n      dispatch({\n        type: AUTH_ACTIONS.LOGIN_SUCCESS,\n        payload: { user },\n      });\n\n      toast.success('Login successful!');\n      return { success: true, user };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Login failed';\n\n      dispatch({\n        type: AUTH_ACTIONS.LOGIN_FAILURE,\n        payload: errorMessage,\n      });\n\n      toast.error(errorMessage);\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Register function\n  const register = async (userData) => {\n    dispatch({ type: AUTH_ACTIONS.REGISTER_START });\n\n    try {\n      const response = await axios.post('/api/auth/register', userData);\n      const { user, tokens } = response.data;\n\n      // Store tokens\n      localStorage.setItem('access_token', tokens.access_token);\n      localStorage.setItem('refresh_token', tokens.refresh_token);\n\n      // Set authorization header\n      axios.defaults.headers.common['Authorization'] = `Bearer ${tokens.access_token}`;\n\n      dispatch({\n        type: AUTH_ACTIONS.REGISTER_SUCCESS,\n        payload: { user },\n      });\n\n      toast.success('Registration successful!');\n      return { success: true, user };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Registration failed';\n\n      dispatch({\n        type: AUTH_ACTIONS.REGISTER_FAILURE,\n        payload: errorMessage,\n      });\n\n      toast.error(errorMessage);\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Logout function\n  const logout = async () => {\n    try {\n      await axios.post('/api/auth/logout');\n    } catch (error) {\n      console.error('Logout request failed:', error);\n    } finally {\n      // Clear local storage and axios headers\n      localStorage.removeItem('access_token');\n      localStorage.removeItem('refresh_token');\n      delete axios.defaults.headers.common['Authorization'];\n\n      dispatch({ type: AUTH_ACTIONS.LOGOUT });\n      toast.success('Logged out successfully');\n    }\n  };\n\n  // Update profile function\n  const updateProfile = async (profileData) => {\n    try {\n      const response = await axios.put('/api/auth/profile', profileData);\n      const updatedUser = response.data.user;\n\n      dispatch({\n        type: AUTH_ACTIONS.UPDATE_PROFILE,\n        payload: updatedUser,\n      });\n\n      toast.success('Profile updated successfully!');\n      return { success: true, user: updatedUser };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Profile update failed';\n      toast.error(errorMessage);\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Change password function\n  const changePassword = async (passwordData) => {\n    try {\n      await axios.put('/api/auth/password', passwordData);\n      toast.success('Password changed successfully!');\n      return { success: true };\n    } catch (error) {\n      const errorMessage = error.response?.data?.message || 'Password change failed';\n      toast.error(errorMessage);\n      return { success: false, error: errorMessage };\n    }\n  };\n\n  // Clear error function\n  const clearError = () => {\n    dispatch({ type: AUTH_ACTIONS.CLEAR_ERROR });\n  };\n\n  // Check if user has specific role\n  const hasRole = (role) => {\n    return state.user?.role === role;\n  };\n\n  // Check if user has any of the specified roles\n  const hasAnyRole = (roles) => {\n    return roles.includes(state.user?.role);\n  };\n\n  // Check if user is authenticated\n  const isAuthenticated = () => {\n    return !!state.user && !!localStorage.getItem('access_token');\n  };\n\n  const value = {\n    // State\n    user: state.user,\n    loading: state.loading,\n    error: state.error,\n\n    // Actions\n    login,\n    register,\n    logout,\n    updateProfile,\n    changePassword,\n    clearError,\n\n    // Utility functions\n    hasRole,\n    hasAnyRole,\n    isAuthenticated,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n// Custom hook to use auth context\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n\n  return context;\n};\n\nexport default AuthContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}