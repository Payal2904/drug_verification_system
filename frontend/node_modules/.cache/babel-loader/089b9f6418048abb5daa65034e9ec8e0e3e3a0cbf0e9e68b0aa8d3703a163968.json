{"ast":null,"code":"import React,{useState}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{Menu,X,Bell,User,LogOut,Settings,Shield,Search}from'lucide-react';import{useAuth}from'../../contexts/AuthContext';import{motion,AnimatePresence}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=_ref=>{let{onMenuClick}=_ref;const{user,logout,isAuthenticated}=useAuth();const location=useLocation();const navigate=useNavigate();const[isProfileMenuOpen,setIsProfileMenuOpen]=useState(false);const[isNotificationOpen,setIsNotificationOpen]=useState(false);const handleLogout=async()=>{await logout();navigate('/');setIsProfileMenuOpen(false);};const isActive=path=>location.pathname===path;const navigationItems=[{path:'/',label:'Home',public:true},{path:'/scan',label:'Scan Drug',public:true},{path:'/verify',label:'Verify',public:true},{path:'/reports',label:'Reports',auth:true},{path:'/supply-chain',label:'Supply Chain',auth:true}];const adminItems=[{path:'/admin',label:'Dashboard',roles:['admin']},{path:'/admin/users',label:'Users',roles:['admin']},{path:'/admin/drugs',label:'Drugs',roles:['admin']}];const mockNotifications=[{id:1,type:'alert',title:'Counterfeit Alert',message:'New counterfeit report for Paracetamol batch #001',time:'5 min ago',unread:true},{id:2,type:'success',title:'Verification Complete',message:'Drug batch verified successfully',time:'1 hour ago',unread:false}];return/*#__PURE__*/_jsxs(\"header\",{className:\"fixed top-0 left-0 right-0 z-50 bg-white shadow-sm border-b border-neutral-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[isAuthenticated()&&/*#__PURE__*/_jsx(\"button\",{onClick:onMenuClick,className:\"lg:hidden p-2 rounded-md text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 focus:outline-none focus:ring-2 focus:ring-primary-500\",children:/*#__PURE__*/_jsx(Menu,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"flex items-center ml-4 lg:ml-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-primary-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(Shield,{className:\"h-5 w-5 text-white\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-bold text-neutral-900\",children:\"DrugVerify\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-neutral-500 hidden sm:block\",children:\"Authenticity System\"})]})]})})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"hidden lg:flex space-x-8\",children:[navigationItems.map(item=>{if(item.auth&&!isAuthenticated())return null;if(item.public||isAuthenticated()){return/*#__PURE__*/_jsx(Link,{to:item.path,className:\"px-3 py-2 rounded-md text-sm font-medium transition-colors \".concat(isActive(item.path)?'text-primary-600 bg-primary-50':'text-neutral-700 hover:text-neutral-900 hover:bg-neutral-100'),children:item.label},item.path);}return null;}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-3 py-2 rounded-md text-sm font-medium text-neutral-700 hover:text-neutral-900 hover:bg-neutral-100 flex items-center\",children:[\"Admin\",/*#__PURE__*/_jsx(\"svg\",{className:\"ml-1 h-4 w-4\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19 9l-7 7-7-7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200\",children:adminItems.map(item=>/*#__PURE__*/_jsx(Link,{to:item.path,className:\"block px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100\",children:item.label},item.path))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-md\",children:/*#__PURE__*/_jsx(Search,{className:\"h-5 w-5\"})}),isAuthenticated()?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsNotificationOpen(!isNotificationOpen),className:\"relative p-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-md\",children:[/*#__PURE__*/_jsx(Bell,{className:\"h-5 w-5\"}),mockNotifications.some(n=>n.unread)&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-1 right-1 h-2 w-2 bg-error-500 rounded-full\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:isNotificationOpen&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:\"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg py-1 z-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 border-b border-neutral-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-neutral-900\",children:\"Notifications\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-64 overflow-y-auto\",children:mockNotifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3 hover:bg-neutral-50 \".concat(notification.unread?'bg-primary-25':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-neutral-900\",children:notification.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-neutral-600\",children:notification.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-neutral-500 mt-1\",children:notification.time})]}),notification.unread&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 h-2 w-2 bg-primary-500 rounded-full flex-shrink-0\"})]})},notification.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-2 border-t border-neutral-200\",children:/*#__PURE__*/_jsx(\"button\",{className:\"text-sm text-primary-600 hover:text-primary-700\",children:\"View all notifications\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsProfileMenuOpen(!isProfileMenuOpen),className:\"flex items-center space-x-2 p-2 text-neutral-700 hover:text-neutral-900 hover:bg-neutral-100 rounded-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 bg-primary-100 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 text-primary-600\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden md:block text-sm font-medium\",children:(user===null||user===void 0?void 0:user.first_name)||(user===null||user===void 0?void 0:user.username)})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:isProfileMenuOpen&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 border-b border-neutral-200\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-semibold text-neutral-900\",children:[user===null||user===void 0?void 0:user.first_name,\" \",user===null||user===void 0?void 0:user.last_name]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-neutral-500\",children:user===null||user===void 0?void 0:user.email}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800 mt-1\",children:user===null||user===void 0?void 0:user.role})]}),/*#__PURE__*/_jsxs(Link,{to:\"/profile\",onClick:()=>setIsProfileMenuOpen(false),className:\"flex items-center px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100\",children:[/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 mr-2\"}),\"Profile\"]}),/*#__PURE__*/_jsxs(Link,{to:\"/settings\",onClick:()=>setIsProfileMenuOpen(false),className:\"flex items-center px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-100\",children:[/*#__PURE__*/_jsx(Settings,{className:\"h-4 w-4 mr-2\"}),\"Settings\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-neutral-200 my-1\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center w-full px-4 py-2 text-sm text-error-700 hover:bg-error-50\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"h-4 w-4 mr-2\"}),\"Sign Out\"]})]})})]})]}):/*#__PURE__*//* Auth Buttons */_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-ghost btn-sm\",children:\"Sign In\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary btn-sm\",children:\"Sign Up\"})]})]})]})}),(isProfileMenuOpen||isNotificationOpen)&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-40\",onClick:()=>{setIsProfileMenuOpen(false);setIsNotificationOpen(false);}})]});};export default Header;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}